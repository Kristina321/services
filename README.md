# Сервисы управления инвентарем и историей

## Обзор

Этот проект состоит из двух микросервисов: `inventory-service` и `history-service`, которые предназначены для совместной работы по управлению инвентарем продуктов и записи действий, выполненных с ними.

## Сервисы

### Сервис инвентаря
Управляет данными о продуктах и уровнями их запасов.

- **Эндпоинты:**
  - `POST /api/products`: Создать новый продукт
  - `POST /api/inventory`: Создать новую запись остатков продукта
  - `PUT /api/inventory/:id/increase/num`: Увеличить количество остатков продукта, где *num* - количество, на которое необходимо увеличить остаток
  - `PUT /api/inventory/:id/decrease/num`: Уменьшить количество остатков продукта, где *num* - количество, на которое необходимо уменьшить остаток
  - `GET /api/inventory`: Получить данные об инвентаре с фильтрацией
    - Фильтры:
      - `plu`: Фильтр по PLU продукта
      - `shop_id`: Фильтр по ID магазина
      - `мин_количество` и `макс_количество` на полке
      - `мин_количество` и `макс_количество` в заказе
  - `GET /api/products`: Получение данных о продуктах с фильтрацией
    - Фильтры:
      - `name`: Фильтр по имени продукта
      - `plu`: Фильтр по PLU продукта

### Сервис истории
Записывает действия, выполненные с продуктами, такие как создание, обновление или удаление.

- **Эндпоинты:**
  - `POST /api/history`: Записать новое действие в историю
  - `GET /api/history`: Получить историю действий

## Структура проекта

```
services/
├── inventory-service/
│   ├── config/
│   ├── models/
│   ├── routes/
│   ├── controllers/
│   ├── app.js
│   └── package.json
├── history-service/
│   ├── src/
│   │   ├── config/
│   │   ├── models/
│   │   ├── routes/
│   │   └── app.js
│   ├── package.json
│   └── tsconfig.json
├── package.json
└── README.md
```

## Инструкции по установке

**Предварительные требования**
- Node.js
- npm
- PostgreSQL

### Установка
1. Клонирование репозитория:
`git clone https://github.com/Kristina321/services.git` > `cd services`

2. Установка зависимостей для каждого сервиса:
`npm run install:all`

3. Настройка базы данных:
Обновите конфигурационные файлы базы данных, расположенные в inventory-service/src/config/database.js и history-service/src/config/database.js, используя ваши учетные данные базы данных.

### Запуск сервисов
`npm run start`
